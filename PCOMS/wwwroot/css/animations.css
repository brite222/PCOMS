/*
 * =====================================================
 * PCOMS - Beautiful Animations & Micro-interactions
 * =====================================================
 * Add this to wwwroot/css/animations.css
 * Then link in _Layout.cshtml
 */

/* =====================================================
   KEYFRAME ANIMATIONS
   ===================================================== */

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-30px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(30px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.9);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.05);
    }
}

@keyframes shimmer {
    0% {
        background-position: -1000px 0;
    }

    100% {
        background-position: 1000px 0;
    }
}

@keyframes spin {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

@keyframes bounce {
    0%, 100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-10px);
    }
}

@keyframes wiggle {
    0%, 100% {
        transform: rotate(0deg);
    }

    25% {
        transform: rotate(-3deg);
    }

    75% {
        transform: rotate(3deg);
    }
}

@keyframes glow {
    0%, 100% {
        box-shadow: 0 0 5px rgba(37, 99, 235, 0.3);
    }

    50% {
        box-shadow: 0 0 20px rgba(37, 99, 235, 0.6);
    }
}

/* =====================================================
   UTILITY ANIMATION CLASSES
   ===================================================== */

.animate-fade-in {
    animation: fadeIn 0.4s ease-out;
}

.animate-fade-in-up {
    animation: fadeInUp 0.5s ease-out;
}

.animate-fade-in-down {
    animation: fadeInDown 0.5s ease-out;
}

.animate-slide-left {
    animation: slideInLeft 0.5s ease-out;
}

.animate-slide-right {
    animation: slideInRight 0.5s ease-out;
}

.animate-scale-in {
    animation: scaleIn 0.4s ease-out;
}

/* Staggered delays for lists */
.stagger-1 {
    animation-delay: 0.05s;
}

.stagger-2 {
    animation-delay: 0.1s;
}

.stagger-3 {
    animation-delay: 0.15s;
}

.stagger-4 {
    animation-delay: 0.2s;
}

.stagger-5 {
    animation-delay: 0.25s;
}

.stagger-6 {
    animation-delay: 0.3s;
}

.stagger-7 {
    animation-delay: 0.35s;
}

.stagger-8 {
    animation-delay: 0.4s;
}

/* =====================================================
   CARD ANIMATIONS
   ===================================================== */

.card {
    animation: fadeInUp 0.5s ease-out;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

    .card:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12) !important;
    }

    /* Stagger card animations on page load */
    .card:nth-child(1) {
        animation-delay: 0s;
    }

    .card:nth-child(2) {
        animation-delay: 0.1s;
    }

    .card:nth-child(3) {
        animation-delay: 0.2s;
    }

    .card:nth-child(4) {
        animation-delay: 0.3s;
    }

    .card:nth-child(5) {
        animation-delay: 0.4s;
    }

    .card:nth-child(6) {
        animation-delay: 0.5s;
    }

/* =====================================================
   BUTTON ANIMATIONS
   ===================================================== */

.btn {
    position: relative;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

    .btn::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
    }

    .btn:active::before {
        width: 300px;
        height: 300px;
    }

    .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    }

    .btn:active {
        transform: translateY(0);
    }

.btn-primary:hover {
    box-shadow: 0 6px 20px rgba(37, 99, 235, 0.4);
}

.btn-success:hover {
    box-shadow: 0 6px 20px rgba(5, 150, 105, 0.4);
}

.btn-danger:hover {
    box-shadow: 0 6px 20px rgba(220, 38, 38, 0.4);
}

/* =====================================================
   FORM INPUT ANIMATIONS
   ===================================================== */

.form-control,
.form-select {
    transition: all 0.3s ease;
    border: 1px solid #e5e7eb;
}

    .form-control:focus,
    .form-select:focus {
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        transform: translateY(-1px);
    }

/* Floating label effect */
.form-floating label {
    transition: all 0.2s ease;
}

.form-floating input:focus ~ label,
.form-floating input:not(:placeholder-shown) ~ label {
    transform: scale(0.85) translateY(-0.5rem);
    color: #3b82f6;
}

/* =====================================================
   TABLE ANIMATIONS
   ===================================================== */

.table tbody tr {
    transition: all 0.2s ease;
}

    .table tbody tr:hover {
        background-color: rgba(59, 130, 246, 0.05);
        transform: translateX(4px);
    }

    /* Stagger table rows */
    .table tbody tr:nth-child(1) {
        animation: fadeInUp 0.3s ease-out 0s;
    }

    .table tbody tr:nth-child(2) {
        animation: fadeInUp 0.3s ease-out 0.05s;
    }

    .table tbody tr:nth-child(3) {
        animation: fadeInUp 0.3s ease-out 0.1s;
    }

    .table tbody tr:nth-child(4) {
        animation: fadeInUp 0.3s ease-out 0.15s;
    }

    .table tbody tr:nth-child(5) {
        animation: fadeInUp 0.3s ease-out 0.2s;
    }

    .table tbody tr:nth-child(6) {
        animation: fadeInUp 0.3s ease-out 0.25s;
    }

    .table tbody tr:nth-child(7) {
        animation: fadeInUp 0.3s ease-out 0.3s;
    }

    .table tbody tr:nth-child(8) {
        animation: fadeInUp 0.3s ease-out 0.35s;
    }

    .table tbody tr:nth-child(9) {
        animation: fadeInUp 0.3s ease-out 0.4s;
    }

    .table tbody tr:nth-child(10) {
        animation: fadeInUp 0.3s ease-out 0.45s;
    }

/* =====================================================
   BADGE ANIMATIONS
   ===================================================== */

.badge {
    transition: all 0.2s ease;
    cursor: default;
}

    .badge:hover {
        transform: scale(1.1);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

/* =====================================================
   ALERT ANIMATIONS
   ===================================================== */

.alert {
    animation: fadeInDown 0.5s ease-out;
}

    .alert.alert-dismissible {
        position: relative;
        overflow: hidden;
    }

        .alert.alert-dismissible::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            width: 100%;
            background: currentColor;
            opacity: 0.3;
            animation: progressBar 5s linear forwards;
        }

@keyframes progressBar {
    from {
        width: 100%;
    }

    to {
        width: 0%;
    }
}

/* =====================================================
   MODAL ANIMATIONS
   ===================================================== */

.modal.fade .modal-dialog {
    transform: scale(0.9) translateY(-50px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.modal.show .modal-dialog {
    transform: scale(1) translateY(0);
}

/* =====================================================
   DROPDOWN ANIMATIONS
   ===================================================== */

.dropdown-menu {
    animation: fadeInDown 0.3s ease-out;
    transform-origin: top;
}

.dropdown-item {
    transition: all 0.2s ease;
}

    .dropdown-item:hover {
        transform: translateX(4px);
        padding-left: 1.5rem !important;
    }

/* =====================================================
   PROGRESS BAR ANIMATIONS
   ===================================================== */

.progress-bar {
    transition: width 0.6s ease;
    position: relative;
    overflow: hidden;
}

    .progress-bar::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        background: linear-gradient( 90deg, transparent, rgba(255, 255, 255, 0.3), transparent );
        animation: shimmer 2s infinite;
    }

/* =====================================================
   SKELETON LOADING
   ===================================================== */

.skeleton {
    background: linear-gradient( 90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75% );
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
    border-radius: 4px;
}

.skeleton-text {
    height: 1rem;
    margin-bottom: 0.5rem;
}

.skeleton-title {
    height: 2rem;
    width: 60%;
    margin-bottom: 1rem;
}

/* =====================================================
   NAV LINK ANIMATIONS
   ===================================================== */

.nav-link {
    position: relative;
    transition: all 0.3s ease;
}

    .nav-link::before {
        content: '';
        position: absolute;
        left: 0;
        bottom: 0;
        height: 2px;
        width: 0;
        background: currentColor;
        transition: width 0.3s ease;
    }

    .nav-link:hover::before,
    .nav-link.active::before {
        width: 100%;
    }

/* Sidebar nav animations */
.sidebar .nav-item {
    opacity: 0;
    animation: slideInLeft 0.4s ease-out forwards;
}

    .sidebar .nav-item:nth-child(1) {
        animation-delay: 0s;
    }

    .sidebar .nav-item:nth-child(2) {
        animation-delay: 0.05s;
    }

    .sidebar .nav-item:nth-child(3) {
        animation-delay: 0.1s;
    }

    .sidebar .nav-item:nth-child(4) {
        animation-delay: 0.15s;
    }

    .sidebar .nav-item:nth-child(5) {
        animation-delay: 0.2s;
    }

    .sidebar .nav-item:nth-child(6) {
        animation-delay: 0.25s;
    }

    .sidebar .nav-item:nth-child(7) {
        animation-delay: 0.3s;
    }

    .sidebar .nav-item:nth-child(8) {
        animation-delay: 0.35s;
    }

    .sidebar .nav-item:nth-child(9) {
        animation-delay: 0.4s;
    }

    .sidebar .nav-item:nth-child(10) {
        animation-delay: 0.45s;
    }

/* =====================================================
   ICON ANIMATIONS
   ===================================================== */

.bi {
    transition: transform 0.3s ease;
}

.btn:hover .bi,
.nav-link:hover .bi {
    transform: scale(1.1);
}

/* Spin on hover */
.icon-spin-hover:hover {
    animation: spin 0.6s ease-in-out;
}

/* Bounce on hover */
.icon-bounce-hover:hover {
    animation: bounce 0.6s ease;
}

/* Wiggle on hover */
.icon-wiggle-hover:hover {
    animation: wiggle 0.5s ease;
}

/* =====================================================
   LOADING SPINNERS
   ===================================================== */

.spinner-border,
.spinner-grow {
    animation-duration: 0.75s;
}

/* Pulsing dots loader */
.dots-loader {
    display: inline-flex;
    gap: 0.5rem;
}

    .dots-loader span {
        width: 8px;
        height: 8px;
        background: currentColor;
        border-radius: 50%;
        animation: bounce 1.4s infinite ease-in-out both;
    }

        .dots-loader span:nth-child(1) {
            animation-delay: -0.32s;
        }

        .dots-loader span:nth-child(2) {
            animation-delay: -0.16s;
        }

        .dots-loader span:nth-child(3) {
            animation-delay: 0s;
        }

/* =====================================================
   PAGE TRANSITIONS
   ===================================================== */

.page-enter {
    animation: fadeInUp 0.6s ease-out;
}

.main-content > * {
    animation: fadeInUp 0.5s ease-out;
}

/* Header animation */
.top-header {
    animation: fadeInDown 0.4s ease-out;
}

/* =====================================================
   HOVER EFFECTS
   ===================================================== */

.hover-lift {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

    .hover-lift:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
    }

.hover-glow {
    transition: box-shadow 0.3s ease;
}

    .hover-glow:hover {
        box-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
    }

.hover-scale {
    transition: transform 0.3s ease;
}

    .hover-scale:hover {
        transform: scale(1.05);
    }

/* =====================================================
   CHECKBOX & SWITCH ANIMATIONS
   ===================================================== */

.form-check-input {
    transition: all 0.3s ease;
}

    .form-check-input:checked {
        animation: pulse 0.5s ease;
    }

.form-switch .form-check-input {
    transition: background-position 0.3s ease;
}

/* =====================================================
   TOOLTIP ANIMATIONS
   ===================================================== */

.tooltip {
    animation: fadeIn 0.2s ease-out;
}

/* =====================================================
   RESPONSIVE ANIMATIONS
   ===================================================== */

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Disable on mobile for performance */
@media (max-width: 768px) {
    .card:hover {
        transform: none;
    }

    .table tbody tr:hover {
        transform: none;
    }
}

/* =====================================================
   CUSTOM UTILITY CLASSES
   ===================================================== */

.transition-all {
    transition: all 0.3s ease;
}

.transition-fast {
    transition: all 0.15s ease;
}

.transition-slow {
    transition: all 0.6s ease;
}

.transform-gpu {
    transform: translateZ(0);
    will-change: transform;
}
